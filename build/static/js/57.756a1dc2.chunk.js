webpackJsonp([57],{1378:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,a){var n=this.state.pagination;n.current=e.current,n.limit=e.pageSize,this.setState({pagination:n}),this.fetch(k({pageSize:e.pageSize,limit:e.pageSize,page:e.current,currentPage:e.current,sortField:a.field,sortOrder:a.order},t,{plan_kind:0}))}function u(e,t){x.RequireUtils.baseRequire(e,t,function(e){if(1==e.code){var t=e.data.list,a=t.map(function(e,t){return e.key=t,e}),n=this.state.pagination;n.limit=n.pageSize,n.total=e.data.count,this.setState({loading:!1,data:a,pagination:n})}else this.setState({data:[]})}.bind(this))}Object.defineProperty(t,"__esModule",{value:!0});var d=a(168),c=n(d),s=a(169),f=n(s),p=a(263),m=n(p),h=a(12),b=n(h),g=a(21),y=n(g),v=a(29),_=n(v),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};a(262),a(264),a(470),a(35),a(27),a(31);var w=a(0),O=n(w),x=a(20),S=a(1872),j=n(S),C=a(1510),P=(n(C),_.default.TabPane,y.default.Option,function(e){function t(e){l(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleOk=function(e){a.setState({ModalText:"The modal will be closed after two seconds",confirmLoading:!0}),setTimeout(function(){a.setState({visible:!1,confirmLoading:!1})},2e3)},a.handleCancel=function(){a.setState({showdetail:!1})},a.state={data:[],pagination:{pageSize:10},loading:!1,showdetail:!1,confirmLoading:!1},a.callback=a.callback.bind(a),a}return o(t,e),E(t,[{key:"handleTableChange",value:function(e,t,a){i.bind(this)(e,t,a)}},{key:"fetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props.history.location.search;console.log(t.split("="));var a=t.split("=")[1],n=Object.assign(e,{recv_id:a});u.bind(this)("relation/plan-list",n)}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})}},{key:"callback",value:function(e){console.log(e)}},{key:"myShowModal",value:function(e){var t=this;x.RequireUtils.baseRequire("relation/plan-info",{id:e},function(e){if(1==e.code){var a=e.data.plan;t.setState({updateData:a,showdetail:!0})}else this.setState({updateData:{},showdetail:!0})}.bind(this))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.updateData,l=t.showdetail,r=t.confirmLoading,o=[{title:"\u5f52\u5c5e\u5408\u540c",dataIndex:"contract_name",key:"contract_name"},{title:"\u9500\u552e\u65b9",dataIndex:"saler_name",key:"saler_name"},{title:"\u91c7\u8d2d\u65b9",dataIndex:"buyer_name",key:"buyer_name"},{title:"\u622a\u6b62\u65f6\u95f4",dataIndex:"end_date",key:"end_date"},{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"goods_name",key:"goods_name"},{title:"\u63a5\u53d7\u573a\u5730",dataIndex:"addr_name",key:"addr_name"},{title:"\u5f53\u524d\u72b6\u6001",dataIndex:"plan_status",key:"plan_status",render:function(e,t){return 0==e?"\u6b63\u5e38":O.default.createElement("span",{style:{color:"#de8c43"}},"\u7ec8\u6b62")}},{title:"\u64cd\u4f5c",key:"action",render:function(t,a){return O.default.createElement("span",null,O.default.createElement("a",{href:"javaScript:void(0)",onClick:function(){return e.myShowModal(a.id)}},O.default.createElement(b.default,{type:"edit"}),"\u67e5\u770b\u5217\u8868\u8be6\u60c5"))}}];return O.default.createElement("div",{className:"my-table-title-center"},O.default.createElement(c.default,{hoverable:!0,title:"\u8ba1\u5212\u5217\u8868-\u67e5\u770b",type:"card"},O.default.createElement(m.default,{columns:o,dataSource:a,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange.bind(this)}),O.default.createElement(f.default,{title:"\u8ba1\u5212\u5217\u8868--\u8be6\u60c5",visible:l,onOk:this.handleOk,confirmLoading:r,onCancel:this.handleCancel,footer:null,width:"50%"},O.default.createElement(j.default,{ref:"PlanForm",updateData:n,handleCancel:this.handleCancel,go:function(){return e.fetch(e.state.pagination)}}))))}}]),t}(O.default.Component));t.default=P,e.exports=t.default},1510:function(e,t,a){var n=a(1557);"string"===typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0};l.transform=void 0;a(11)(n,l);n.locals&&(e.exports=n.locals)},1557:function(e,t,a){t=e.exports=a(10)(void 0),t.push([e.i,"a {\n  color: #9a9898;\n}\n.my-right-distence {\n  display: inline-block;\n  width: 100px;\n}\n.my-table-title-center .ant-table-thead > tr > th,\n.ant-table-tbody > tr > td {\n  text-align: center;\n}\n.avatar-uploader,\n.avatar-uploader-trigger,\nmy-custom-upload .ant-upload-list-picture-card {\n  overflow: hidden;\n  display: inline-block;\n}\n.avatar {\n  width: 180px;\n  height: 110px;\n}\n.avatar-uploader {\n  display: inline-block;\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n}\n.avatar-uploader-trigger {\n  display: table-cell;\n  vertical-align: middle;\n  font-size: 28px;\n  color: #999;\n}\n.my-text-center {\n  width: 110px;\n  text-align: center;\n}\n.my-customer-color {\n  color: #fd9206;\n}\n.my-custom-padding .ant-form-item {\n  margin-bottom: 0 ;\n}\n.my-custom-padding .ant-col-24.ant-form-item-label {\n  padding: 0;\n}\n.my-custom-padding .ant-form-item-label {\n  text-align: left;\n}\n",""])},1872:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){this.props.handleCancel()}function u(e,t){var a=this;t&&S.RequireUtils.baseRequire("plan/contract-addr-select",{buyer_id:t},function(e){if(1==e.code){var t=e.data.list;a.setState({contractoption:t.contract,$addroption:t.addr})}else this.setState({update:!0})}.bind(this))}Object.defineProperty(t,"__esModule",{value:!0});var d=a(41),c=n(d),s=a(45),f=n(s),p=a(52),m=n(p),h=a(65),b=(n(h),a(21)),g=n(b),y=a(29),v=n(y),_=a(100),E=n(_),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(62),a(51),a(56),a(72),a(27),a(31),a(129);var O=a(0),x=n(O),S=a(20),j=a(24),C=(n(j),a(1510)),P=(n(C),E.default.create),T=E.default.Item,D=(v.default.TabPane,g.default.Option,function(e){function t(e){l(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loading:!1,updateData:{}},a.callback=a.callback.bind(a),a}return o(t,e),w(t,[{key:"callback",value:function(e){console.log(e)}},{key:"componentDidMount",value:function(){var e=this.props.updateData;u.bind(this)("",e.buyer_id),this.setState({form:e})}},{key:"render",value:function(){var e=(this.props.form.getFieldProps,this.state),t=(e.contractoption,e.$addroption,e.form,e.loading,this.props.updateData),a=(t.plan_status,t.id,t.deliver_id,t.buyer_name),n=t.addr_name,l=t.goods_name,r=t.contract_name,o=t.status_name,u=t.plan_weight,d=t.deliver_name,s=(t.goods_id,t.start_date),p=t.end_date,h=t.plan_interval,b={labelCol:{span:8},wrapperCol:{span:16}},g={labelCol:{span:3},wrapperCol:{span:21}},y=this.props.form.getFieldDecorator;return x.default.createElement("div",{className:"my-custom-padding"},x.default.createElement("main",null,x.default.createElement(E.default,null,x.default.createElement(f.default,{gutter:8},x.default.createElement(m.default,{span:11},x.default.createElement(T,k({},b,{label:"\u91c7\u8d2d\u65b9"}),y("buyer_name",{})(x.default.createElement("span",null,a)))),x.default.createElement(m.default,{span:2}),x.default.createElement(m.default,{span:11},x.default.createElement(T,k({},b,{label:"\u63a5\u6536\u573a\u7ad9"}),y("addr_name",{})(x.default.createElement("span",null,n))))),x.default.createElement(f.default,{gutter:8},x.default.createElement(m.default,{span:11},x.default.createElement(T,k({},b,{label:"\u72b6\u6001"}),y("status_name",{})(x.default.createElement("span",null,o)))),x.default.createElement(m.default,{span:2}),x.default.createElement(m.default,{span:11},x.default.createElement(T,k({},b,{label:"\u8fd0\u8f93\u65b9\u5f0f"}),y("deliver_name",{})(x.default.createElement("span",null,d))))),x.default.createElement(f.default,{gutter:8,style:{marginTop:"10px"}},x.default.createElement(m.default,{span:11},x.default.createElement(T,k({},b,{label:"\u5355\u6b21\u6267\u884c\u91cf"}),y("plan_weight",{})(x.default.createElement("span",null,u)))),x.default.createElement(m.default,{span:2}),x.default.createElement(m.default,{span:11},x.default.createElement(T,k({},b,{label:"\u6267\u884c\u5468\u671f"}),y("plan_interval",{})(x.default.createElement("span",null,h,"\u5929"))))),x.default.createElement(f.default,{gutter:8},x.default.createElement(m.default,{span:11},x.default.createElement(T,k({},b,{label:"\u8ba1\u5212\u5546\u54c1"}),y("goods_name",{})(x.default.createElement("span",null,l)))),x.default.createElement(m.default,{span:2}),x.default.createElement(m.default,{span:11},x.default.createElement(T,k({},b,{label:"\u5f52\u5c5e\u5408\u540c"}),y("contract_name",{})(x.default.createElement("span",null,r))))),x.default.createElement(f.default,{gutter:8},x.default.createElement(m.default,{span:24},x.default.createElement(T,k({},g,{label:"\u6301\u7eed\u65f6\u95f4"}),y("start_date",{})(x.default.createElement("div",null,x.default.createElement("span",null,s),x.default.createElement("span",null,"\u81f3"),x.default.createElement("span",null,p)))))),x.default.createElement(f.default,{style:{marginTop:"10px"}},x.default.createElement(m.default,{style:{textAlign:"right"}},x.default.createElement(c.default,{onClick:i.bind(this),style:{marginRight:"10px"}},"\u53d6\u6d88"))))))}}]),t}(x.default.Component));D=P()(D),t.default=D,e.exports=t.default}});
//# sourceMappingURL=57.756a1dc2.chunk.js.map